import{r as _,v as T,j as e,Y as P}from"./app-QnlSuv68.js";import{I as r}from"./InputError-B7EU8B0u.js";import{A,a as B}from"./alert-DaWqOBKE.js";import{B as D,H as E}from"./HeaderTitle-DtZDWeEn.js";import{B as f}from"./button-CL03zgF_.js";import{C as H,a as M,d as w}from"./card-DoDDVmfv.js";import{I as C}from"./input-CAITntcw.js";import{L as d}from"./label-DBXKlR5f.js";import{S as o,a as c,b as x,c as h,d as u}from"./select-Bg2bGwni.js";import{T as S}from"./textarea-C0jvJJq-.js";import{U as z}from"./UseFilter-BngTz1sn.js";import{c as L,A as R}from"./AppLayout-C6pz4Ag-.js";import{a as U,t as Y}from"./utils-Bmi1VSjX.js";import{I as K}from"./IconArrowBack-7Zov-8iI.js";import{I as q}from"./IconCheck-DJboLscn.js";import"./breadcrumb-MG19Bjne.js";import"./createLucideIcon-r2R1ceYs.js";import"./index-BEZPruzt.js";import"./index-BjrXP6fR.js";import"./index-BAgKXyy9.js";import"./index-C6-eADmE.js";import"./index-J68en0W6.js";import"./index-hfbzjmks.js";import"./Combination-BvT7Bqey.js";import"./index-dJ0zPmEG.js";import"./ThemeSwitcher-k0LasmZu.js";import"./createReactComponent-64PoZT5X.js";import"./ApplicationLogo-n_bc0GLs.js";import"./NavLink-DaiVxKx4.js";import"./transition-DdAn9jnG.js";import"./dialog-D0_nOZIq.js";function G(t){var g,y,v,b;const[i,k]=_.useState(t.state);z({route:route("expenses.edit",t.expense),values:i,only:["budgets"]});const{data:s,setData:m,errors:l,post:N,processing:V,reset:F}=T({date:t.expense.date??"",description:t.expense.description??"",nominal:t.expense.nominal??"",type:t.expense.type??i.type,type_detail_id:t.expense.type_detail_id??null,notes:t.expense.notes??"",payment_id:t.expense.payment_id??null,month:t.expense.month??null,year:t.expense.year??null,_method:t.pageSettings.method}),p=a=>m(a.target.name,a.target.value),I=a=>{a.preventDefault(),N(t.pageSettings.action,{preserveScroll:!0,preserveState:!0,onSuccess:n=>{const j=U(n);j&&Y[j.type](j.message)}})};return _.useEffect(()=>{m("type",i.type)},[i.type]),e.jsxs("div",{className:"flex w-full flex-col gap-y-6 pb-32",children:[e.jsx(D,{items:t.items}),t.budgets.length==0&&(i==null?void 0:i.type)&&e.jsx(A,{variant:"destructive",children:e.jsxs(B,{children:["Tipe detail tidak ditemukan pada tipe ",e.jsx("strong",{children:i==null?void 0:i.type}),". Silahkan untuk membuat terlebih dahulu"]})}),e.jsxs(H,{children:[e.jsx(M,{children:e.jsxs("div",{className:"flex flex-col items-start justify-between gap-y-4 lg:flex-row lg:items-center",children:[e.jsx(E,{title:t.pageSettings.title,subtitle:t.pageSettings.subtitle,icon:L}),e.jsx(f,{variant:"cyan",size:"xl",asChild:!0,children:e.jsxs(P,{href:route("expenses.index"),children:[e.jsx(K,{className:"size-4"}),"Kembali"]})})]})}),e.jsx(w,{children:e.jsxs("form",{className:"space-y-4",onSubmit:I,children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(d,{htmlFor:"date",children:"Tanggal"}),e.jsx(C,{type:"date",name:"date",id:"date",placeholder:"Masukkan tanggal",value:s.date,onChange:p}),l.date&&e.jsx(r,{message:l.date})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(d,{htmlFor:"description",children:"Deskripsi"}),e.jsx(S,{name:"description",id:"description",onChange:p,placeholder:"Masukkan deskripsi...",value:s.description}),l.description&&e.jsx(r,{message:l.description})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(d,{htmlFor:"nominal",children:"Nominal"}),e.jsx(C,{type:"number",name:"nominal",id:"nominal",placeholder:"Masukkan nominal",value:s.nominal,onChange:p}),l.nominal&&e.jsx(r,{message:l.nominal})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(d,{htmlFor:"type",children:"Tipe"}),e.jsxs(o,{defaultValue:s.type,onValueChange:a=>k({...i,type:a}),children:[e.jsx(c,{children:e.jsx(x,{children:((g=t.types.find(a=>a.value==s.type))==null?void 0:g.label)??"Pilih tipe"})}),e.jsx(h,{children:t.types.map((a,n)=>e.jsx(u,{value:a.value,children:a.label},n))})]}),l.type&&e.jsx(r,{message:l.type})]}),t.budgets.length>0&&e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(d,{htmlFor:"type_detail_id",children:"Detail"}),e.jsxs(o,{defaultValue:s.type_detail_id,onValueChange:a=>m("type_detail_id",a),children:[e.jsx(c,{children:e.jsx(x,{children:((y=t.budgets.find(a=>a.value==s.type_detail_id))==null?void 0:y.label)??"Pilih detail"})}),e.jsx(h,{children:t.budgets.map((a,n)=>e.jsxs(u,{value:a.value,children:[a.label," - (",a.month,"/",a.year,")"]},n))})]}),l.type_detail_id&&e.jsx(r,{message:l.type_detail_id})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(d,{htmlFor:"payment_id",children:"Metode Pembayaran"}),e.jsxs(o,{defaultValue:s.payment_id,onValueChange:a=>m("payment_id",a),children:[e.jsx(c,{children:e.jsx(x,{children:((v=t.payments.find(a=>a.value==s.payment_id))==null?void 0:v.label)??"Pilih metode pembayaran"})}),e.jsx(h,{children:t.payments.map((a,n)=>e.jsx(u,{value:a.value,children:a.label},n))})]}),l.payment&&e.jsx(r,{message:l.payment})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(d,{htmlFor:"notes",children:"Catatan"}),e.jsx(S,{name:"notes",id:"notes",onChange:p,placeholder:"Masukkan catatan...",value:s.notes}),l.notes&&e.jsx(r,{message:l.notes})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(d,{htmlFor:"month",children:"Bulan"}),e.jsxs(o,{defaultValue:s.month,onValueChange:a=>m("month",a),children:[e.jsx(c,{children:e.jsx(x,{children:((b=t.months.find(a=>a.value==s.month))==null?void 0:b.label)??"Pilih bulan"})}),e.jsx(h,{children:t.months.map((a,n)=>e.jsx(u,{value:a.value,children:a.label},n))})]}),l.month&&e.jsx(r,{message:l.month})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(d,{htmlFor:"year",children:"Tahun"}),e.jsxs(o,{defaultValue:s.year,onValueChange:a=>m("year",a),children:[e.jsx(c,{children:e.jsx(x,{children:t.years.find(a=>a==s.year)??"Pilih tahun"})}),e.jsx(h,{children:t.years.map((a,n)=>e.jsx(u,{value:a,children:a},n))})]}),l.year&&e.jsx(r,{message:l.year})]}),e.jsxs("div",{className:"mt-8 flex flex-col gap-2 lg:flex-row lg:justify-end",children:[e.jsx(f,{type:"button",variant:"ghost",size:"xl",onClick:()=>F(),children:"Reset"}),e.jsxs(f,{type:"submit",variant:"cyan",size:"xl",disabled:V,children:[e.jsx(q,{}),"Submit"]})]})]})})]})]})}G.layout=t=>e.jsx(R,{children:t,title:t.props.pageSettings.title});export{G as default};
