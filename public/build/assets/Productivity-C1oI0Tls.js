import{r as s,j as c}from"./app-QnlSuv68.js";import{u as M,b as W,B as J}from"./button-CL03zgF_.js";import{a as Q,u as Z,c as C}from"./index-BAgKXyy9.js";import{c as ee}from"./index-C6-eADmE.js";import{P as te,D as oe}from"./index-hfbzjmks.js";import{c as H,R as re,A as ne,C as se,a as ae,b as ie}from"./index-dJ0zPmEG.js";import{P as S}from"./index-BrwhefOI.js";import{P as le}from"./index-BEZPruzt.js";import{c as G,b as ce}from"./utils-Bmi1VSjX.js";import"./index-BjrXP6fR.js";var[_,ze]=ee("Tooltip",[H]),D=H(),B="TooltipProvider",ue=700,O="tooltip.open",[de,A]=_(B),F=t=>{const{__scopeTooltip:o,delayDuration:e=ue,skipDelayDuration:n=300,disableHoverableContent:r=!1,children:a}=t,l=s.useRef(!0),h=s.useRef(!1),i=s.useRef(0);return s.useEffect(()=>{const p=i.current;return()=>window.clearTimeout(p)},[]),c.jsx(de,{scope:o,isOpenDelayedRef:l,delayDuration:e,onOpen:s.useCallback(()=>{window.clearTimeout(i.current),l.current=!1},[]),onClose:s.useCallback(()=>{window.clearTimeout(i.current),i.current=window.setTimeout(()=>l.current=!0,n)},[n]),isPointerInTransitRef:h,onPointerInTransitChange:s.useCallback(p=>{h.current=p},[]),disableHoverableContent:r,children:a})};F.displayName=B;var R="Tooltip",[pe,j]=_(R),$=t=>{const{__scopeTooltip:o,children:e,open:n,defaultOpen:r,onOpenChange:a,disableHoverableContent:l,delayDuration:h}=t,i=A(R,t.__scopeTooltip),p=D(o),[u,f]=s.useState(null),x=Q(),d=s.useRef(0),v=l??i.disableHoverableContent,y=h??i.delayDuration,m=s.useRef(!1),[g,T]=Z({prop:n,defaultProp:r??!1,onChange:I=>{I?(i.onOpen(),document.dispatchEvent(new CustomEvent(O))):i.onClose(),a==null||a(I)},caller:R}),w=s.useMemo(()=>g?m.current?"delayed-open":"instant-open":"closed",[g]),P=s.useCallback(()=>{window.clearTimeout(d.current),d.current=0,m.current=!1,T(!0)},[T]),E=s.useCallback(()=>{window.clearTimeout(d.current),d.current=0,T(!1)},[T]),N=s.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>{m.current=!0,T(!0),d.current=0},y)},[y,T]);return s.useEffect(()=>()=>{d.current&&(window.clearTimeout(d.current),d.current=0)},[]),c.jsx(re,{...p,children:c.jsx(pe,{scope:o,contentId:x,open:g,stateAttribute:w,trigger:u,onTriggerChange:f,onTriggerEnter:s.useCallback(()=>{i.isOpenDelayedRef.current?N():P()},[i.isOpenDelayedRef,N,P]),onTriggerLeave:s.useCallback(()=>{v?E():(window.clearTimeout(d.current),d.current=0)},[E,v]),onOpen:P,onClose:E,disableHoverableContent:v,children:e})})};$.displayName=R;var k="TooltipTrigger",z=s.forwardRef((t,o)=>{const{__scopeTooltip:e,...n}=t,r=j(k,e),a=A(k,e),l=D(e),h=s.useRef(null),i=M(o,h,r.onTriggerChange),p=s.useRef(!1),u=s.useRef(!1),f=s.useCallback(()=>p.current=!1,[]);return s.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),c.jsx(ne,{asChild:!0,...l,children:c.jsx(le.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...n,ref:i,onPointerMove:C(t.onPointerMove,x=>{x.pointerType!=="touch"&&!u.current&&!a.isPointerInTransitRef.current&&(r.onTriggerEnter(),u.current=!0)}),onPointerLeave:C(t.onPointerLeave,()=>{r.onTriggerLeave(),u.current=!1}),onPointerDown:C(t.onPointerDown,()=>{r.open&&r.onClose(),p.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:C(t.onFocus,()=>{p.current||r.onOpen()}),onBlur:C(t.onBlur,r.onClose),onClick:C(t.onClick,r.onClose)})})});z.displayName=k;var L="TooltipPortal",[fe,he]=_(L,{forceMount:void 0}),U=t=>{const{__scopeTooltip:o,forceMount:e,children:n,container:r}=t,a=j(L,o);return c.jsx(fe,{scope:o,forceMount:e,children:c.jsx(S,{present:e||a.open,children:c.jsx(te,{asChild:!0,container:r,children:n})})})};U.displayName=L;var b="TooltipContent",V=s.forwardRef((t,o)=>{const e=he(b,t.__scopeTooltip),{forceMount:n=e.forceMount,side:r="top",...a}=t,l=j(b,t.__scopeTooltip);return c.jsx(S,{present:n||l.open,children:l.disableHoverableContent?c.jsx(Y,{side:r,...a,ref:o}):c.jsx(xe,{side:r,...a,ref:o})})}),xe=s.forwardRef((t,o)=>{const e=j(b,t.__scopeTooltip),n=A(b,t.__scopeTooltip),r=s.useRef(null),a=M(o,r),[l,h]=s.useState(null),{trigger:i,onClose:p}=e,u=r.current,{onPointerInTransitChange:f}=n,x=s.useCallback(()=>{h(null),f(!1)},[f]),d=s.useCallback((v,y)=>{const m=v.currentTarget,g={x:v.clientX,y:v.clientY},T=ge(g,m.getBoundingClientRect()),w=Ce(g,T),P=be(y.getBoundingClientRect()),E=Pe([...w,...P]);h(E),f(!0)},[f]);return s.useEffect(()=>()=>x(),[x]),s.useEffect(()=>{if(i&&u){const v=m=>d(m,u),y=m=>d(m,i);return i.addEventListener("pointerleave",v),u.addEventListener("pointerleave",y),()=>{i.removeEventListener("pointerleave",v),u.removeEventListener("pointerleave",y)}}},[i,u,d,x]),s.useEffect(()=>{if(l){const v=y=>{const m=y.target,g={x:y.clientX,y:y.clientY},T=(i==null?void 0:i.contains(m))||(u==null?void 0:u.contains(m)),w=!we(g,l);T?x():w&&(x(),p())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[i,u,l,p,x]),c.jsx(Y,{...t,ref:a})}),[ve,me]=_(R,{isInside:!1}),ye=W("TooltipContent"),Y=s.forwardRef((t,o)=>{const{__scopeTooltip:e,children:n,"aria-label":r,onEscapeKeyDown:a,onPointerDownOutside:l,...h}=t,i=j(b,e),p=D(e),{onClose:u}=i;return s.useEffect(()=>(document.addEventListener(O,u),()=>document.removeEventListener(O,u)),[u]),s.useEffect(()=>{if(i.trigger){const f=x=>{const d=x.target;d!=null&&d.contains(i.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[i.trigger,u]),c.jsx(oe,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:c.jsxs(se,{"data-state":i.stateAttribute,...p,...h,ref:o,style:{...h.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(ye,{children:n}),c.jsx(ve,{scope:e,isInside:!0,children:c.jsx(ae,{id:i.contentId,role:"tooltip",children:r||n})})]})})});V.displayName=b;var q="TooltipArrow",Te=s.forwardRef((t,o)=>{const{__scopeTooltip:e,...n}=t,r=D(e);return me(q,e).isInside?null:c.jsx(ie,{...r,...n,ref:o})});Te.displayName=q;function ge(t,o){const e=Math.abs(o.top-t.y),n=Math.abs(o.bottom-t.y),r=Math.abs(o.right-t.x),a=Math.abs(o.left-t.x);switch(Math.min(e,n,r,a)){case a:return"left";case r:return"right";case e:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Ce(t,o,e=5){const n=[];switch(o){case"top":n.push({x:t.x-e,y:t.y+e},{x:t.x+e,y:t.y+e});break;case"bottom":n.push({x:t.x-e,y:t.y-e},{x:t.x+e,y:t.y-e});break;case"left":n.push({x:t.x+e,y:t.y-e},{x:t.x+e,y:t.y+e});break;case"right":n.push({x:t.x-e,y:t.y-e},{x:t.x-e,y:t.y+e});break}return n}function be(t){const{top:o,right:e,bottom:n,left:r}=t;return[{x:r,y:o},{x:e,y:o},{x:e,y:n},{x:r,y:n}]}function we(t,o){const{x:e,y:n}=t;let r=!1;for(let a=0,l=o.length-1;a<o.length;l=a++){const h=o[a],i=o[l],p=h.x,u=h.y,f=i.x,x=i.y;u>n!=x>n&&e<(f-p)*(n-u)/(x-u)+p&&(r=!r)}return r}function Pe(t){const o=t.slice();return o.sort((e,n)=>e.x<n.x?-1:e.x>n.x?1:e.y<n.y?-1:e.y>n.y?1:0),Ee(o)}function Ee(t){if(t.length<=1)return t.slice();const o=[];for(let n=0;n<t.length;n++){const r=t[n];for(;o.length>=2;){const a=o[o.length-1],l=o[o.length-2];if((a.x-l.x)*(r.y-l.y)>=(a.y-l.y)*(r.x-l.x))o.pop();else break}o.push(r)}o.pop();const e=[];for(let n=t.length-1;n>=0;n--){const r=t[n];for(;e.length>=2;){const a=e[e.length-1],l=e[e.length-2];if((a.x-l.x)*(r.y-l.y)>=(a.y-l.y)*(r.x-l.x))e.pop();else break}e.push(r)}return e.pop(),o.length===1&&e.length===1&&o[0].x===e[0].x&&o[0].y===e[0].y?o:o.concat(e)}var Re=F,je=$,_e=z,De=U,K=V;const Oe=Re,ke=je,Ae=_e,X=s.forwardRef(({className:t,sideOffset:o=4,...e},n)=>c.jsx(De,{children:c.jsx(K,{ref:n,sideOffset:o,className:G("z-50 origin-[--radix-tooltip-content-transform-origin] overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e})}));X.displayName=K.displayName;function Ue({transactions:t}){const o=[];let e=[];const n=r=>r>25?"bg-cyan-400":r>10?"bg-cyan-500":r>3?"bg-cyan-600":r>0?"bg-cyan-700":"bg-background";return t.forEach((r,a)=>{e.push(c.jsx(Oe,{children:c.jsxs(ke,{children:[c.jsx(Ae,{asChild:!0,children:c.jsx(J,{className:G("h-6 w-6 rounded-full border border-input shadow-none",n(r.count)),size:"sm"})}),c.jsxs(X,{children:[r.count," Kontribusi menabung pada ",ce(r.transaction_date)]})]})},a)),e.length==9&&(o.push(e),e=[])}),e.length>0&&o.push(e),c.jsx("div",{className:"flex flex-wrap gap-1.5",children:o.map((r,a)=>c.jsx("div",{className:"flex flex-col gap-1.5",children:r},a))})}export{Ue as default};
